---
layout: default
---

{% include header.html %}
<main style='max-width: 60em; margin: 0 auto'>
<section class="tutorial">
    <section class="sidebar sticky">
        <ul>
            {% assign sub_navigation = content | extract_element: 'h2' %}
            {% for item in sub_navigation %}
                <li><a href="#{{ item.id }}">{{ item.text }}</a></li>
            {% endfor %}
        </ul>
    </section>
    <section class="tutorial-content">
        <h1>{{ page.title }}</h1>

        {% if page.type == "Video" %}
            {% include youtube.html video_id=page.video_id %}

            {% if page.resources %}
                <div class="resources">
                    <ul>
                        {% for resource in page.resources %}
                            <li><a href="{{ resource.link }}">{{ resource.name }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
        {% endif %}
        
        <div class="tutorial-main">
            {{ content }}
        </div>
    </section>
</section>

{% assign related_articles = [] %}
{% assign articles = site.collections | where: 'label', 'articles' | first %}
{% for article in articles %}
    {% assign common_categories = article.categories | intersect: page.categories %}
    {% assign common_categories_size = common_categories | size %}
    {% if article.url != page.url and common_categories_size > 0 %}
        {% assign related_articles = related_articles | concat: article %}
    {% endif %}
{% endfor %}
{% assign related_articles_size = related_articles | size %}
{% if page.related_links != false and related_articles_size > 0 %}
    <div class="related">
        <h3>Related info</h3>

        {% include listings.html listings=related_articles %}
    </div>
{% endif %}

</main>

<script src="/js/main.js"></script>

<script>
    var headings = document.querySelectorAll("h2[id]");

    console.log(headings);
    for (var i = 0; i < headings.length; i++) {
        var anchorLink = document.createElement("a");
        anchorLink.innerText = "#";
        anchorLink.href = "#" + headings[i].id;
        anchorLink.classList.add("header-link");

        headings[i].appendChild(anchorLink);
    }

    $(".modalOpen").click(function() {
        var id = $(this).attr("href");
        $(id).addClass("show");

        $(window).click(function() {
            $(".show").removeClass("show");
        });

        $(id + " > div").click(function(event){
            event.stopPropagation();
        });
        return false;
    });

    $(".close").click(function() {
        $(".show").removeClass("show");
        return false;
    });

    $(document).keyup(function(e) {
        if (e.keyCode == 27) {
            $(".show").removeClass("show");
        }
    });
</script>
